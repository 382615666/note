# 正则指引入门

### 知识要点

* ^$ 正则的开始和结束标志符
* [0-9] [9-0] 字符数组后者会报错
* \w 包含了_，字符输入的时候不可用
* '\\d' 字符串中的反斜杠需要多加一个反斜杠
* [:digit:] posix字符组，PCRE是常规的
* 惰性匹配 *?
    ```ecmascript 6
        // 贪婪匹配
        '<script>aaa</script><scritp></script>'.match(/<script>[\s\S]*<\/script>/)
        // ["<script>aaa</script><scritp></script>", index: 0, input: "<script>aaa</script><scritp></script>", groups: undefined]

        '<script>aaa</script><scritp></script>'.match(/<script>[\s\S]*?<\/script>/)
        // ["<script>aaa</script>", index: 0, input: "<script>aaa</script><scritp></script>", groups: undefined]

        '123'.match(/\d*?/)
        // ["", index: 0, input: "123", groups: undefined]

        '123'.match(/\d+?/)
        // ["1", index: 0, input: "123", groups: undefined]
    ``` 
* 多选结构匹配了前面的就不会匹配后面的
    ```ecmascript 6
        'abc'.match(/^(ab|cd)$/)
        // null

        'abc'.match(/^ab|cd$/)
        // ["ab", index: 0, input: "abc", groups: undefined]
    ```
* 反向引用
    ```ecmascript 6
        /(1)\1/.test('11')
        // true
      
        /(1)\1/.test('12')
      // false
    ```
* 环视
    * 前序肯定环视
    ```ecmascript 6
      /abcd(?=1234)/.test('abcd1234')
      // true

      /(?=1234)abcd/.test('abcd1234')
      // false
    ```
    * 前序否定环视
    ```ecmascript 6
      /abcd(?!1234)/.test('abcd1234')
      // false

      // 当前位置不是1234，而是abcd
      /(?!1234)abcd/.test('abcd1234')
      // true
    ```
    * 后续肯定环视
    ```ecmascript 6
      /abcd(?<=1234)/.test('abcd1234')
      // true

      /(?<=1234)abcd/.test('abcd1234')
      // false
    ```
    * 后续否定环视
    ```ecmascript 6
      /abcd(?<!1234)/.test('abcd1234')
      // false
      
      /(?<!1234)abcd/.test('abcd1234')
      // true
    ```
> 环视不消耗字符位置，仅用来作匹配。后续环视匹配顺序是从右到左


### 例子

##### 匹配素数

* /^1?$|^(11+?)1+$/ // 所有的非素数
* /^(.*)\1{2}(.*)\2{2}(.*)\3{2}$/.test('111111') // 3x + 3y + 3z = 4 自然数有解

### 参考资料

* [正则表达式30分钟入门教程](https://deerchao.cn/tutorials/regex/regex.htm)
* [正则指引入门](https://blog.csdn.net/qq_35883464/article/details/83374052)
* [深入理解正则表达式环视的概念与用法](https://www.cnblogs.com/tsql/p/5860889.html)
* [正则基础之——NFA引擎匹配原理](https://blog.csdn.net/lxcnn/article/details/4304651)
* [入门练习网站](https://regexone.com/lesson/introduction_abcs)
* [正则表达式练习网站](https://regexcrossword.com/playerpuzzles)
* [正则表达式练习网站](https://alf.nu/RegexGolf#accesstoken=SFhd/4OqJVxP8l1ijjC+)